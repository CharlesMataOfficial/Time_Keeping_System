<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    {% load static %}
    <!-- Use your updated CSS file -->
    <link rel="stylesheet" href="{% static 'css/custom_admin_page.css' %}" />
    <!-- Original custom JS (if still needed) -->
    <script src="{% static 'js/custom_admin_page.js' %}"></script>
  </head>
  <body>
    <!-- Menu Icon -->
    <div class="menu-icon" onclick="toggleMenu()">
      <img src="{% static 'images/icons/menu_icon.png' %}" alt="Menu Icon" />
    </div>

    <!-- Menu Pop-Up -->
    <div class="menu" id="menu">
      <ul>
        <!-- New: Manage Users (for superadmin) -->
        {% if user.is_superuser %}
        <a href="{% url 'superadmin_redirect' %}">
          <li class="menu-item superadmin">
            <img src="{% static 'images/icons/superadmin_icon.png' %}" alt="Superadmin" />
            Manage Users
          </li>
        </a>
      {% else %}
        <li class="menu-item superadmin" onclick="alert('You do not have permission to access the super admin page.');">
          <img src="{% static 'images/icons/superadmin_icon.png' %}" alt="Superadmin" />
          Manage Users
        </li>
      {% endif %}
        <li class="menu-item" onclick="navigateTo('dashboard')">
          <img
            src="{% static 'images/icons/dashboard_icon.png' %}"
            alt="Dashboard"
          />
          Dashboard
        </li>
        <li class="menu-item" onclick="navigateTo('log')">
          <img src="{% static 'images/icons/log_icon.png' %}" alt="Log" /> Log
        </li>
        <li class="menu-item" onclick="navigateTo('attendance-list')">
          <img
            src="{% static 'images/icons/attendance_icon.png' %}"
            alt="Attendance List"
          />
          Attendance List
        </li>
        <li class="menu-item" onclick="navigateTo('work-hours')">
          <img
            src="{% static 'images/icons/clock_icon.png' %}"
            alt="Work Hours"
          />
          Work Hours Preset
        </li>
        <li class="menu-item" onclick="navigateTo('announcement')">
          <img
            src="{% static 'images/icons/announcement_icon.png' %}"
            alt="Announcement"
          />
          Announcement
        </li>
        <li class="menu-item" onclick="navigateTo('export-excel')">
          <img
            src="{% static 'images/icons/excel_icon.png' %}"
            alt="Export Excel"
          />
          Export Excel
        </li>
        <li class="menu-item" onclick="navigateTo('leave-approval')">
          <img
            src="{% static 'images/icons/leave_icon.png' %}"
            alt="Leave Approval"
          />
          Leave Approval
        </li>
        <li class="menu-item" onclick="navigateTo('about')">
          <img src="{% static 'images/icons/credits_icon.png' %}" alt="About" />
          About
        </li>
        <!-- New: Sign Out (triggers hidden logout form) -->
        <li
          class="menu-item sign-out"
          onclick="document.getElementById('logout-form').submit();"
        >
          <img
            src="{% static 'images/icons/signout_icon.png' %}"
            alt="Sign Out Icon"
          />
          Sign out
        </li>
        <form
          id="logout-form"
          action="{% url 'logout' %}"
          method="POST"
          style="display: none"
        >
          {% csrf_token %}
        </form>
      </ul>
    </div>

    <!-- Dashboard Shortcut (Back/Forward Arrows) -->
    <div
      id="dashboard-shortcut"
      class="dashboard-icon-top-right"
      style="display: none"
    >
      <img
        src="{% static 'images/icons/leftarrow_icon.png' %}"
        alt="Back"
        id="left-arrow"
      />
      <img
        src="{% static 'images/icons/rightarrow_icon.png' %}"
        alt="Forward"
        id="right-arrow"
      />
    </div>

    <!-- Screens -->
    <!-- Dashboard Screen (Updated with stats) -->
    <div id="dashboard" class="screen" style="display: flex">
      <h1 id="dashboard_title">Dashboard</h1>
      <div class="dashboard-stats-container">
        <div class="total-user-time-wrapper">
          <div class="total-user-time-container">
            <h2>Total User Time In:</h2>
            <p id="total-time-in">0</p>
          </div>
          <div class="total-user-timeout-container">
            <h2>Total User Time Out:</h2>
            <p id="total-time-out">0</p>
          </div>
        </div>
        <div class="top-late-employees-container">
          <h2>Top 5 Late Employees:</h2>
          <div class="late-employees-list">
            <p></p>
          </div>
          <div class="total-late-employees">
            <h2>Total Number of Late Employees:</h2>
            <p id="total-late-count">0</p>
          </div>
          <button class="view-late-button" onclick="viewLateEmployees()">
            View Late Employees
          </button>
        </div>
        <div class="top-early-birds-container">
          <h2>Top 5 Early Birds:</h2>
          <div class="early-birds-list">
            <p></p>
          </div>
        </div>
      </div>
    </div>

    <!-- Log Screen -->
    <div id="log" class="screen" style="display: none">
      <h1>Log</h1>
      <div id="log_rectangle"></div>
    </div>

 <!-- Attendance List Screen -->
 <div id="attendance-list" class="screen">
  <h1>Attendance List</h1>
  <div class="attendance-dropdown-wrapper">
    <div class="attendance-dropdown-container">
      <select name="attendance_type" id="attendance-type">
        <option value="time-log">Time Log</option>
        <option value="users-active">Users Active</option>
        <option value="users-inactive">Users Inactive</option>
      </select>
      <select name="attendance_company" id="attendance-company">
        <option value="" disabled selected class="default-option">By Company:</option>
        <option value="all">All companies</option>
        <!-- The value attribute is the code. The data-alias attribute is what will override the value if available. -->
        <option value="ASC" data-alias="AgriDOM">Agridom Solutions Corp.</option>
        <option value="SFGCI" data-alias="SFGC">SF Group of Companies</option>
        <option value="DJAS" data-alias="DSC">DJAS Servicetrade Corporation</option>
        <option value="FAC">Farmtech Agriland Corporation</option>
        <option value="GTI">Genius Technologies Inc</option>
        <option value="SMI">Sunfood Marketing Inc.</option>
      </select>
      <select name="attendance_department" id="attendance-department">
        <option disabled selected class="default-option">By Department:</option>
        <option value="all">All departments</option>
        <option value="hr">Human Resources</option>
        <option value="it">IT Department</option>
        <option value="finance">Finance</option>
      </select>
      <button type="button" class="go-button" onclick="filterAttendance()">Go</button>
    </div>
  </div>
  <div id="attendance_rectangle">
    <!-- Data will be loaded here via JavaScript -->
  </div>
</div>

    <!-- Export Excel Screen -->
    <div id="export-excel" class="screen" style="display: none">
      <h1>Export to Excel</h1>
      <div class="export-container">
        <button class="export-button">Date</button>
        <button class="export-button">Employee ID</button>
      </div>
    </div>

    <!-- Announcement Screen -->
    <!-- Announcement Screen -->
    <div id="announcement" class="screen" style="display: none">
      <h1>Announcement</h1>
      <div class="announcement-content">
        <!-- Create Announcement Section -->
        <div class="announcement-container">
          <h2>Create Announcement</h2>
          <textarea
            id="announcement-text"
            placeholder="Write announcement here..."
          ></textarea>
          <button class="save-button" onclick="saveAnnouncement()">Save</button>
        </div>
        <!-- Saved Announcements Section -->
        <div class="announcement-container">
          <h2>Saved Announcement Files</h2>
          <!-- Container for the announcements list with scrollbar when needed -->
          <div class="announcement-list-container">
            <ul id="announcement-list"></ul>
          </div>
          <div class="announcement-actions">
            <select id="post-options">
              <option value="recent">Post Recent</option>
              <option value="selected">Post Selected</option>
              <option value="all">Post All</option>
            </select>
            <button class="post-button" onclick="postAnnouncement()">
              Post
            </button>
            <button class="delete-button" onclick="deleteAnnouncement()">
              Delete
            </button>
            <button class="view-button" onclick="viewAnnouncements()">
              View
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Work Hours Preset Screen -->
    <div id="work-hours" class="screen" style="display: none">
      <h1>Work Hours Preset</h1>
      <div class="separator"></div>
      <div class="work-hours-content">
        <p>Additional work hours information can go here.</p>
      </div>
      <div class="work-hours-container">
        <div class="work-hours-actions">
          <button onclick="addWorkHours()">Add</button>
          <button onclick="editWorkHours()">Edit</button>
          <button onclick="deleteWorkHours()">Delete</button>
        </div>
        <div class="separator"></div>
        <div class="grace-period">
          <label for="grace-period">Grace Period (minutes):</label>
          <div class="grace-period-input-container">
            <select id="grace-period" name="grace-period">
              <option value="5">5 minutes</option>
              <option value="10">10 minutes</option>
              <option value="15">15 minutes</option>
            </select>
            <button class="save-button" onclick="saveWorkHours()">Save</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Leave Approval Screen (new) -->
    <div id="leave-approval" class="screen" style="display: none">
      <h1>Leave Approval</h1>
      <div id="leave-approval_rectangle"></div>
    </div>

    <!-- About Screen (new) -->
    <div id="about" class="screen" style="display: none">
      <h1>About</h1>
      <div class="about-container">
        <!-- Logos -->
        <div class="about-logo-container">
          <img
            src="{% static 'images/logos/mmcm.png' %}"
            alt="MMCM Logo"
            class="about-logo mapua-logo"
          />
          <img
            src="{% static 'images/logos/agridom2.png' %}"
            alt="Agridom Logo"
            class="about-logo agri-logo"
          />
          <img
            src="{% static 'images/logos/mmcm_ccis.png' %}"
            alt="CCIS Logo"
            class="about-logo ccis-logo"
          />
        </div>

        <!-- Intern Information (Left Side) -->
        <div class="intern-info">
          <!-- SirPatrick's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/logos/mmcm_ccis.png' %}"
              alt="Patrick Alpas"
              class="intern-photo"
            />
            <p class="intern-name">Patrick Alpas</p>
            <p class="intern-role">Agridom - Supervisor</p>
          </div>

          <!-- Shennah's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/faces/shennah.png' %}"
              alt="Shennah Dalogdog"
              class="intern-photo"
            />
            <p class="intern-name">Shennah Dalogdog</p>
            <p class="intern-role">CS - Frontend Developer</p>
          </div>

          <!-- Clent's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/faces/clent.png' %}"
              alt="Clent Padriquela"
              class="intern-photo"
            />
            <p class="intern-name">Clent Padriquela</p>
            <p class="intern-role">CS - Frontend Developer</p>
          </div>

          <!-- Roxannie's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/faces/rox.png' %}"
              alt="Roxannie Sentillas"
              class="intern-photo"
            />
            <p class="intern-name">Roxannie Sentillas</p>
            <p class="intern-role">IS - Documentation/Tester</p>
          </div>

          <!-- Kenneth's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/faces/kenneth.png' %}"
              alt="Kenneth Saluna"
              class="intern-photo"
            />
            <p class="intern-name">Kenneth Saluna</p>
            <p class="intern-role">CS - Backend Developer</p>
          </div>

          <!-- Charles's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/faces/charles.png' %}"
              alt="Charles Mata"
              class="intern-photo"
            />
            <p class="intern-name">Charles Mata</p>
            <p class="intern-role">CS - Backend Developer</p>
          </div>

          <!-- Vonn's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/faces/vonn.png' %}"
              alt="Vonn Jutar"
              class="intern-photo"
            />
            <p class="intern-name">Vonn Jutar</p>
            <p class="intern-role">CS - Backend Developer</p>
          </div>

          <!-- Jakob's Card -->
          <div class="intern-card">
            <img
              src="{% static 'images/faces/jakob.png' %}"
              alt="Jakob Maraguinot"
              class="intern-photo"
            />
            <p class="intern-name">Jakob Maraguinot</p>
            <p class="intern-role">CS - Mobile App developer</p>
          </div>
        </div>

        <!-- Description -->
        <p>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This
          system was developed for SFGC’s timekeeping and attendance tracking,
          providing an efficient and user-friendly solution for managing
          employee attendance. It is designed to streamline employee check-ins,
          monitor work hours, track attendance records, and generate real-time
          reports for better workforce management. The system ensures that
          attendance data is recorded accurately and can be easily accessed for
          review, making it a valuable tool for supervisors and administrators.
          This project was conceptualized, designed, and implemented by CCIS
          intern students from Mapúa Malayan Colleges Mindanao as part of their
          internship program at Agridom Solutions Corp. The development of this
          system allowed the interns to apply their academic knowledge to a
          real-world setting, gaining hands-on experience in software
          development, user interface design, and database management.
          Throughout the project, the interns worked on various aspects, such as
          frontend and backend development, system integration, and testing,
          ensuring the system met the needs of SFGC. This internship experience
          not only helped them fulfill the required 240 hours for Computer
          Science students but also provided an opportunity to contribute to an
          essential tool that improves operational efficiency within the
          organization.
        </p>
      </div>
    </div>

    <!-- Schedule Modal (from original design) -->
    <div id="setScheduleModal" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Set Schedule</h2>
        <!-- Preset Options -->
        <div class="preset-options">
          <button id="regularPresetBtn">Regular Preset</button>
          <button id="customPresetBtn">Custom Preset</button>
        </div>
        <!-- Preset Name -->
        <input type="text" id="presetName" placeholder="Preset Name" />
        <!-- Schedule Table -->
        <table>
          <tr>
            <th>Day</th>
            <th>Start Time</th>
            <th>End Time</th>
          </tr>
          <tr>
            <td><input type="checkbox" id="mondayCheck" /> Monday</td>
            <td><input type="time" id="mondayStart" /></td>
            <td><input type="time" id="mondayEnd" /></td>
          </tr>
          <tr>
            <td><input type="checkbox" id="tuesdayCheck" /> Tuesday</td>
            <td><input type="time" id="tuesdayStart" /></td>
            <td><input type="time" id="tuesdayEnd" /></td>
          </tr>
          <tr>
            <td><input type="checkbox" id="wednesdayCheck" /> Wednesday</td>
            <td><input type="time" id="wednesdayStart" /></td>
            <td><input type="time" id="wednesdayEnd" /></td>
          </tr>
          <tr>
            <td><input type="checkbox" id="thursdayCheck" /> Thursday</td>
            <td><input type="time" id="thursdayStart" /></td>
            <td><input type="time" id="thursdayEnd" /></td>
          </tr>
          <tr>
            <td><input type="checkbox" id="fridayCheck" /> Friday</td>
            <td><input type="time" id="fridayStart" /></td>
            <td><input type="time" id="fridayEnd" /></td>
          </tr>
          <tr>
            <td><input type="checkbox" id="saturdayCheck" /> Saturday</td>
            <td><input type="time" id="saturdayStart" /></td>
            <td><input type="time" id="saturdayEnd" /></td>
          </tr>
          <tr>
            <td><input type="checkbox" id="sundayCheck" /> Sunday</td>
            <td><input type="time" id="sundayStart" /></td>
            <td><input type="time" id="sundayEnd" /></td>
          </tr>
        </table>
        <!-- Modal Buttons -->
        <button id="saveScheduleBtn">Save</button>
        <button id="closeScheduleBtn" onclick="closeModal()">Close</button>
      </div>
    </div>

    <!-- Hidden Logout Form (used by redirectToSignOut()) -->
    <form
      id="logoutForm"
      action="{% url 'logout' %}"
      method="POST"
      style="display: none"
    >
      {% csrf_token %}
    </form>

    <!-- Updated Functions JS -->
    <script src="{% static 'js/custom_admin_page.js' %}"></script>
  </body>
</html>
